<!doctype html>
<html>
<head><title>STARS DEMO - officine tesla</title><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r70/three.js">
</script><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<style>html,body{overflow:hidden;margin:0;padding:0}
#controls{position:absolute;z-index:100;top:20px;left:20px;background-color:transparent;}</style>
<script>
function myload(){
var three = THREE;
var scene = new three.Scene();
var camera = new three.PerspectiveCamera(60, window.innerWidth/window.innerHeight, 0.1, 1000);
var renderer = new three.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

var geometry = new three.BoxGeometry(1, 1, 1);
three.ImageUtils.crossOrigin = '';
var material = new THREE.MeshBasicMaterial({color: 0xF0ff00 } );
var star = new three.Mesh(geometry, material);
var linematerial = new THREE.LineBasicMaterial({color: 0xff0000});
camera.position.z = 0.005;

function addconstellation(name){for(var l=0;l<MYDATA[name].L.length;l++){if(MYDATA[name].L[l]){addline(MYDATA[name].L[l]);}}}
function addline(L){var newline = new THREE.Geometry();
	for(var s=0;s<L.length;s++){if(L[s]){addstar(L[s][0],L[s][1],L[s][2])
		newline.vertices.push(new THREE.Vector3(L[s][0],L[s][1],L[s][2]));}}
	scene.add(new THREE.Line(newline,linematerial));}
function addstar(x,y,z){var star2=star.clone();star2.position.setX(x);star2.position.setY(y);star2.position.setZ(z);scene.add(star2);}
for(c in MYDATA){addconstellation(c);}

var isDragging = false;var previousMousePosition = { x: 0, y: 0};
$(renderer.domElement).on('mousedown', function(e) {isDragging = true;})
.on('mousemove', function(e) {
    var deltaMove = {
        x: e.offsetX-previousMousePosition.x,
        y: e.offsetY-previousMousePosition.y
    };
    if(isDragging) {            
        var deltaRotationQuaternion = new three.Quaternion()
            .setFromEuler(new three.Euler(
                toRadians(deltaMove.y * 1),
                toRadians(deltaMove.x * 1),
                0,
                'XYZ'
            ));        
        scene.quaternion.multiplyQuaternions(deltaRotationQuaternion, scene.quaternion);
    }
    previousMousePosition={x: e.offsetX,y: e.offsetY};
}).on('DOMMouseScroll mousewheel', function(e) {
	var wd=e.originalEvent.wheelDelta;var dir=1;if(wd>0){dir=-1}
	camera.position.z=camera.position.z+((dir*0.5)*camera.position.z);
});
/* */

$(document).on('mouseup', function(e) {
    isDragging = false;
});



// shim layer with setTimeout fallback
window.requestAnimFrame = (function(){
    return  window.requestAnimationFrame ||
        window.webkitRequestAnimationFrame ||
        window.mozRequestAnimationFrame ||
        function(callback) {
            window.setTimeout(callback, 1000 / 60);
        };
})();

function render() {
    renderer.render(scene, camera);    
    requestAnimFrame(render);
}

render();


function toRadians(angle) {	return angle * (Math.PI / 180);}
function toDegrees(angle) {	return angle * (180 / Math.PI);}
};
window.MYDATA={"Aquarius":{"N":"Aquarius","L":[[[246.29071044921875,-67.72770690917969,89.55683135986328],[148.2720489501953,-22.881322860717773,57.29196548461914],[294.2435607910156,-31.347057342529297,115.3376693725586],[365.33880615234375,-2.598933696746826,121.70154571533203],[196.98289489746094,-3.709954023361206,44.97530746459961],null,[148.84962463378906,23.453577041625977,64.06248474121094],[459.8550720214844,96.85969543457031,230.75595092773438],[426.4932861328125,80.49125671386719,316.7992858886719],[106.26216888427734,22.5394287109375,113.72120666503906],[136.89122009277344,29.202720642089844,153.5184783935547]],[[459.8550720214844,96.85969543457031,230.75595092773438],[167.22361755371094,8.853123664855957,84.2392349243164],[149.608642578125,-6.360351085662842,90.892333984375]]]},"Aries":{"N":"Aries","L":[[[108.57315063476562,30.04539680480957,-121.44722747802734],[51.31291961669922,11.389320373535156,-39.60504150390625],[48.118343353271484,8.658388137817383,-32.41944122314453],null]]},"Cancer":{"N":"Cancer","L":[[[-129.45608520507812,-16.676240921020508,-135.74514770507812],[-81.67756652832031,0.17709337174892426,-101.87049102783203],[-110.23578643798828,10.085561752319336,-143.4615020751953],null],[[-81.67756652832031,0.17709337174892426,-101.87049102783203],[-168.04806518554688,-54.185218811035156,-246.74307250976562]]]},"Capricornus":{"N":"Capricornus","L":[[[314.05657958984375,69.25654602050781,469.6714172363281],[182.39285278320312,26.146228790283203,269.92767333984375],[28.700244903564453,-5.85783052444458,37.86716079711914],[512.0852661132812,-131.30252075195312,656.3954467773438],[301.2799377441406,-64.3083267211914,336.44146728515625],[279.5822448730469,-46.925289154052734,261.29107666015625],[807.8988037109375,-91.55744171142578,673.1393432617188],[31.098155975341797,-1.7563002109527588,22.976003646850586],[123.26985931396484,-7.006181716918945,97.037353515625],[145.41981506347656,-4.692375183105469,132.4049072265625],[112.34318542480469,-1.65799880027771,116.97147369384766],[182.39285278320312,26.146228790283203,269.92767333984375]]]},"Corona Australis":{"N":"Corona Australis","L":[[[19.89888572692871,-24.282779693603516,93.31082916259766],[12.870035171508789,-14.040934562683105,53.1290168762207],[29.524494171142578,-33.105224609375,117.24153900146484],[110.2979507446289,-136.6455535888672,440.3568420410156],[39.88969039916992,-54.750518798828125,165.17483520507812],[38.96488571166992,-63.92068099975586,178.0121307373047]]]},"Corona Borealis":{"N":"Corona Borealis","L":[[[-191.84613037109375,281.3364562988281,157.8670196533203],[-60.20471954345703,80.5068359375,48.95751190185547],[-39.71453857421875,52.43817901611328,36.131492614746094],[-73.82125854492188,102.39217376708984,73.49662017822266],[-82.30320739746094,119.75279998779297,88.34263610839844],[-100.54914855957031,159.46839904785156,116.15130615234375],[-133.74798583984375,235.90484619140625,153.9287109375]]]},"Crux":{"N":"Crux","L":[[null,[-47.64336395263672,-65.63764190673828,35.562740325927734]],[[-137.54039001464844,-209.05812072753906,122.31226348876953],[-178.6695098876953,-266.0174255371094,128.22108459472656]]]},"Gemini":{"N":"Gemini","L":[[[-13.228339195251465,3.932762861251831,-30.83856201171875],[-98.19288635253906,24.62928009033203,-251.2765350341797],[-19.206195831298828,-0.18824602663516998,-57.336936950683594],[-355.74346923828125,-48.96200942993164,-1328.55712890625],[-17.1765193939209,-12.833065032958984,-107.18174743652344]],[[-2.5614936351776123,-0.4663379192352295,-155.07420349121094],[-23.05170249938965,-5.9617085456848145,-383.8932189941406],[-21.40272331237793,-3.314685344696045,-230.63804626464844],[-145.74728393554688,30.521507263183594,-831.7680053710938],[-84.7094497680664,43.316654205322266,-306.608154296875],[-18.968677520751953,10.028587341308594,-54.81441879272461],[-17.32602310180664,8.917250633239746,-46.987945556640625]],[[-19.206195831298828,-0.18824602663516998,-57.336936950683594],[-32.32029342651367,-9.906339645385742,-95.05476379394531],[-163.4990692138672,-58.04471969604492,-512.3274536132812],[-11.235115051269531,-10.298731803894043,-56.69239807128906]],[[-64.40464782714844,-29.03230857849121,-539.9169311523438],[-145.74728393554688,30.521507263183594,-831.7680053710938]],[[-84.7094497680664,43.316654205322266,-306.608154296875],[-35.80438995361328,36.17668533325195,-182.10276794433594]],[[-98.19288635253906,24.62928009033203,-251.2765350341797],[-56.668785095214844,7.59321928024292,-129.30470275878906]],[[-98.19288635253906,24.62928009033203,-251.2765350341797],[-38.902679443359375,12.076202392578125,-113.25419616699219],[-84.7094497680664,43.316654205322266,-306.608154296875]]]},"Leo":{"N":"Leo","L":[[[-110.90587615966797,19.93735122680664,-65.03116607666016],[-188.19882202148438,41.635650634765625,-154.01171875],[-94.79222869873047,26.54373550415039,-75.58911895751953],[-226.39056396484375,56.35498046875,-143.86351013183594],[-110.90587615966797,19.93735122680664,-65.03116607666016],[-1071.2952880859375,107.6486587524414,-671.8890380859375],[-68.55668640136719,0.643639862537384,-39.85337448120117],[-155.953857421875,27.73927879333496,-46.42346954345703],[-34.684322357177734,7.623295307159424,-5.110263824462891],[-53.62947082519531,14.465960502624512,-18.135753631591797],[-110.90587615966797,19.93735122680664,-65.03116607666016]],[[-68.55668640136719,0.643639862537384,-39.85337448120117],[-105.52576446533203,-8.538613319396973,-75.9750747680664]],[[-155.953857421875,27.73927879333496,-46.42346954345703],[-74.97857666015625,8.212637901306152,-16.53234100341797],[-215.72909545898438,6.517523288726807,-43.083518981933594]]]},"Libra":{"N":"Libra","L":[[[-181.08493041992188,-38.36223602294922,221.1431884765625],[-119.21215057373047,27.34864044189453,138.94924926757812]],[[-229.84567260742188,49.609683990478516,404.5922546386719],[-84.40715026855469,10.201236724853516,145.44789123535156],[-80.29524993896484,10.404290199279785,125.32844543457031],[-92.99261474609375,12.477761268615723,133.4897918701172],[-119.21215057373047,27.34864044189453,138.94924926757812],[-53.5201530456543,0.4409492611885071,53.67517852783203],[-181.08493041992188,-38.36223602294922,221.1431884765625],[-115.24072265625,-33.09510803222656,188.8644561767578],[-184.179931640625,-63.84095001220703,310.8244323730469]]]},"Orion":{"N":"Orion","L":[[[-30.66164207458496,-97.11094665527344,-598.7893676757812],[-1.5884287357330322,-36.935951232910156,-150.47361755371094],[10.40299129486084,-137.48358154296875,-478.4966735839844],[61.70595169067383,-314.5700378417969,-662.8193969726562],[34.06533432006836,-353.13568115234375,-541.2454223632812],[168.30569458007812,-445.99761962890625,-719.2452392578125],[84.37326049804688,-276.7209167480469,-629.1752319335938],[38.0262451171875,-73.03397369384766,-238.64549255371094],[117.11827087402344,-253.93714904785156,-1062.0048828125],[10.40299129486084,-137.48358154296875,-478.4966735839844]],[[-28.93449592590332,-103.6596908569336,-1798.81103515625],[-16.48480224609375,-77.69512939453125,-509.9387512207031],[-30.66164207458496,-97.11094665527344,-598.7893676757812],[-41.05070495605469,-52.52310562133789,-829.3839721679688]],[[38.0262451171875,-73.03397369384766,-238.64549255371094],[7.873060703277588,-6.98145866394043,-24.121227264404297],[309.615478515625,-303.611328125,-958.6351928710938],[379.4622802734375,-459.1886901855469,-1202.82666015625],[250.3575897216797,-336.51824951171875,-847.2777709960938]],[[7.873060703277588,-6.98145866394043,-24.121227264404297],[66.12407684326172,-52.34052658081055,-208.0350799560547],[32.09107208251953,-24.911026000976562,-108.99734497070312]],[[61.70595169067383,-314.5700378417969,-662.8193969726562],[204.7517852783203,-819.9534301757812,-1787.000732421875],[84.37326049804688,-276.7209167480469,-629.1752319335938]]]},"Pisces":{"N":"Pisces","L":[[[138.9906005859375,59.78301239013672,-74.89311981201172],[257.4848937988281,92.43930053710938,-141.48353576660156],[384.92059326171875,119.26473236083984,-191.5728759765625],[310.62164306640625,32.76377868652344,-157.0144500732422],[247.26394653320312,-7.902730464935303,-130.0530242919922],[129.5819091796875,-23.71455192565918,-72.95186614990234],[326.71484375,-29.724376678466797,-155.8811798095703],[279.13262939453125,-16.245803833007812,-119.25971221923828],[173.33926391601562,3.470208168029785,-54.738502502441406],[301.571044921875,11.82121467590332,-76.01358795166016],[103.59182739257812,11.56437873840332,-4.673855781555176],[44.34357833862305,5.571459770202637,1.8242244720458984],[146.16891479492188,23.319957733154297,12.30151081085205],[135.34649658203125,17.43062400817871,20.3448486328125],[151.85888671875,11.863237380981445,18.905807495117188],[106.24710845947266,6.356629848480225,6.333532810211182],[44.34357833862305,5.571459770202637,1.8242244720458984]]]},"Sagittarius":{"N":"Sagittarius","L":[[[42.198638916015625,-16.501100540161133,234.9720458984375],[27.594114303588867,-39.195865631103516,344.40618896484375]],[[33.814327239990234,-51.33821105957031,119.25828552246094],[65.25643920898438,-64.1442642211914,157.10491943359375],[49.39445114135742,-57.327457427978516,165.3136444091797]],[[65.25643920898438,-64.1442642211914,157.10491943359375],[211.2434844970703,-128.83184814453125,455.70941162109375],[64.95376586914062,-37.79621124267578,139.1881561279297],[202.57241821289062,-55.50191116333008,396.4452819824219],[361.5510559082031,-91.6484375,743.7761840820312],[70.4539794921875,-10.781672477722168,175.7278594970703],[87.35446166992188,-15.242475509643555,284.9351806640625],[31.01362419128418,-10.785922050476074,117.09664916992188],[20.6341495513916,-11.022308349609375,85.04200744628906],[42.198638916015625,-16.501100540161133,234.9720458984375],[48.7647590637207,-13.704205513000488,222.06639099121094],[31.01362419128418,-10.785922050476074,117.09664916992188]],[[48.7647590637207,-13.704205513000488,222.06639099121094],[36.74873733520508,2.1326470375061035,137.20672607421875],[142.5816192626953,12.781968116760254,489.1174621582031],[124.65218353271484,-10.906876564025879,296.6728820800781],[42.161949157714844,9.351482391357422,119.39191436767578]],[[36.74873733520508,2.1326470375061035,137.20672607421875]],[[42.198638916015625,-16.501100540161133,234.9720458984375],[8.596414566040039,-2.912764072418213,77.6513442993164],null],[[8.596414566040039,-2.912764072418213,77.6513442993164],[27.594114303588867,-39.195865631103516,344.40618896484375],[12.450739860534668,-27.470718383789062,140.09735107421875],[8.984234809875488,-33.76456069946289,141.6917724609375]],[[27.594114303588867,-39.195865631103516,344.40618896484375],[2.116950511932373,-11.790114402770996,96.12823486328125],[-47.27541732788086,-75.96306610107422,981.328369140625]],[[20.6341495513916,-11.022308349609375,85.04200744628906],[12.450739860534668,-27.470718383789062,140.09735107421875],[2.116950511932373,-11.790114402770996,96.12823486328125]]]},"Scorpius":{"N":"Scorpius","L":[[[-226.1401824951172,-17.02288246154785,435.7331237792969],[-262.68243408203125,-49.06877899169922,643.6713256835938],[-190.946533203125,-44.12113952636719,517.9259643554688],[-149.90638732910156,-50.54506301879883,446.9060974121094],[-15.792070388793945,-12.962056159973145,60.3526611328125],null,null,[-11.09437370300293,-25.351024627685547,68.06758117675781],[-21.70341682434082,-100.9715576171875,282.0223083496094],[-79.90252685546875,-555.0646362304688,1846.71337890625],[-28.654024124145508,-130.3043975830078,464.4264831542969],[-52.34503936767578,-136.14271545410156,552.2845458984375]],[[-179.5921173095703,7.030825614929199,355.38787841796875],[-209.0614013671875,1.815529465675354,422.4346618652344],[-202.93946838378906,13.51278305053711,428.2344665527344],[-168.35299682617188,51.24733352661133,321.4629211425781],[-179.5921173095703,7.030825614929199,355.38787841796875],[-226.1401824951172,-17.02288246154785,435.7331237792969],[-265.17864990234375,-55.873905181884766,519.095458984375],[-210.82144165039062,-70.57575988769531,416.3866882324219]],[[-79.90252685546875,-555.0646362304688,1846.71337890625],[-4.443503379821777,-29.637178421020508,122.21538543701172]]]},"Taurus":{"N":"Taurus","L":[[[17.226791381835938,12.566924095153809,-132.18565368652344],[122.03998565673828,4.962362766265869,-379.0579528808594],[53.78007888793945,-6.568535327911377,-136.28306579589844],[56.63860321044922,-9.552539825439453,-136.9719696044922],[60.98027801513672,-10.772170066833496,-142.76235961914062],[65.87736511230469,-16.135202407836914,-146.6214141845703],[56.13264846801758,-15.296713829040527,-138.66607666015625],[22.92001724243164,-6.349381923675537,-62.25823211669922],[40.41844177246094,-17.047290802001953,-442.8079528808594]],[[65.87736511230469,-16.135202407836914,-146.6214141845703],[235.021240234375,-67.01325225830078,-417.6839294433594],[146.19781494140625,-67.55519104003906,-290.1014709472656],[198.1174774169922,-96.1407241821289,-398.777587890625],[56.76197052001953,-29.185867309570312,-97.99498748779297]],[[235.021240234375,-67.01325225830078,-417.6839294433594],[202.05274963378906,-35.2739143371582,-273.98443603515625],[127.4588394165039,-31.98116111755371,-162.62374877929688],[180.0443572998047,-47.19123458862305,-223.64073181152344]],[[22.92001724243164,-6.349381923675537,-62.25823211669922],[53.78007888793945,-6.568535327911377,-136.28306579589844]]]},"Ursa Major":{"N":"Ursa Major","L":[[[-60.43722915649414,84.50206756591797,-3.237687826156616],[-46.041236877441406,71.45606994628906,-11.736045837402344],[-44.932926177978516,67.05561065673828,-17.3083553314209],[-43.7140998840332,63.14853286743164,-24.166807174682617],[-49.234718322753906,60.9771728515625,-27.88211441040039],[-42.737937927246094,56.52051544189453,-36.58624267578125],[-56.422767639160156,93.70220947265625,-56.034706115722656],[-43.7140998840332,63.14853286743164,-24.166807174682617]]]},"Ursa Minor":{"N":"Ursa Minor","L":[[[4.381082057952881,395.4947814941406,-175.1914825439453],[-1.2394726276397705,161.6834259033203,-59.00977325439453],[-13.366937637329102,292.088134765625,-83.1124496459961],[-43.60441207885742,356.59747314453125,-84.10517883300781],[-26.282909393310547,125.20856475830078,-27.871675491333008],[-97.18902587890625,470.7547302246094,-77.03570556640625],[-10.320734977722168,94.8073501586914,-17.6496639251709],[-43.60441207885742,356.59747314453125,-84.10517883300781]]]},"Virgo":{"N":"Virgo","L":[[[-35.600341796875,0.4318509101867676,-1.7646641731262207],[-264.3738098144531,6.323809623718262,22.349857330322266],[-37.47239303588867,1.8556381464004517,6.703798770904541],[-192.24842834472656,29.715513229370117,38.98026657104492],[-103.66447448730469,30.586713790893555,18.168621063232422]],[[-192.24842834472656,29.715513229370117,38.98026657104492],[-67.84062194824219,11.124267578125,27.5953426361084],[-228.286865234375,-8.952868461608887,100.88373565673828],[-299.7480773925781,9.603803634643555,98.76860809326172],[-37.47239303588867,1.8556381464004517,6.703798770904541]],[[-67.84062194824219,11.124267578125,27.5953426361084],[-193.92266845703125,50.84054946899414,102.02195739746094],[-100.58378601074219,39.55188751220703,80.05809783935547]],[[-228.286865234375,-8.952868461608887,100.88373565673828],[-209.7464141845703,12.94822883605957,144.12139892578125],[-59.79807662963867,9.091007232666016,40.02663040161133],[-44.917640686035156,10.013267517089844,37.86531066894531]]]}};
</script>
</head><body onload="myload()";><div id="controls"><a href="https://github.com/officinetesla/stars" style="color:#eeeeee;font-weight:bold;">https://github.com/officinetesla/stars</a></div></body>
